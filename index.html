<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="index.css">
</head>

<body>

    <!-- Menu -->
    <div id="menu"></div>

    <div id="container">
        <div id="Fosimg">
            <h1 id="welcome">Welcome to the Faculty of <br>Science(FOS)</h1>
            <p id="motto">Dedicated to academic excellence, research, and national development</p>

        </div>

        <div id="intro">
            <h2>Introduction</h2>
            <div>
                <p> Welcome to the Faculty of Science at the University of Ruhuna. Our curriculum is
                    meticulously designed to bridge the gap between theoretical foundations and
                    modern industrial application. Whether you are seeking a versatile general degree
                    or a specialized research-intensive pathway, our programs provide the tools,
                    environment, and mentorship needed to thrive in a rapidly evolving digital landscape.</p>
            </div>
            <div class="intro-divider"></div>
        </div>

        <div id="ahead">
            <h2>News</h2>
            <div class="news-grid" id="news-grid"></div>
            <!-- <div id="achieve">
                <div class="notice">
                    <img src="./src/convocation.jpg">
                    <p class="miniheading">32<sup>nd</sup><br>Convocation<br></p>
                    <p class="description">Celebrating excellence and academic success for Ruhuna Science graduates
                        2025.</p>
                    <div class="buttons"><button type="button" class="readmore">Read More</button></div>

                </div>
                <div class="notice">
                    <img src="./src/ristcon.jpg">
                    <p class="miniheading">RISTCON <br> 2025</p>
                    <p class="description">Celebrating excellence and academic success for Ruhuna Science graduates
                        2025.</p>
                    <div class="buttons"><button type="button" class="readmore">Read More</button></div>

                </div>
                <div class="notice">
                    <img src="./src/rucit.png">
                    <p class="miniheading">RUCIT <br> Re-opening</p>
                    <p class="description">Celebrating excellence and academic success for Ruhuna Science graduates
                        2025.</p>
                    <div class="buttons"><button type="button" class="readmore">Read More</button></div>

                </div>
            </div> -->
        </div>
        <div id="last">
            <h2>Top Stories</h2>
            <div id="stories">
                <div id="date" class="important">
                    <h3>Important Dates</h3>
                    <div id="calender_dates">
                        <div class="calender_box">
                            <div class="important_date">
                                <p class="month">FEB</p>
                                <p class="day">06</p>
                            </div>
                            <div class="events">
                                <h4>Semeter Leave</h4>
                                <p>Start of the 1<sup>st</sup>Semester Leave.</p>
                            </div>
                        </div>
                        <div class="calender_box">
                            <div class="important_date">
                                <p class="month">FEB</p>
                                <p class="day">23</p>
                            </div>
                            <div class="events">
                                <h4>Semester Examinations</h4>
                                <p>Start of the 1<sup>st</sup>Semester Examinations.
                                </p>
                            </div>
                        </div>
                        <div class="calender_box">
                            <div class="important_date">
                                <p class="month">MAR</p>
                                <p class="day">23</p>
                            </div>
                            <div class="events">
                                <h4>End of Semester Examinations</h4>
                                <p>End of the 1<sup>st</sup>Semester Examinations.
                                </p>
                            </div>
                        </div>
                    </div>

                </div>
                <div id="details" class="important">
                    <h3>Department Details</h3>
                    <div id="list_departments">
                        <div id="inside_departments">
                            <div class="under_departments">
                                <img src="./src/list.png" class="depart_images">
                                <div class="list_contents">
                                    <h4>List of Departments</h4>
                                </div>
                            </div>

                            <div class="under_departments">
                                <img src="./src/staff.png" class="depart_images">
                                <div class="list_contents">
                                    <h4>Academic Staff</h4>
                                </div>
                            </div>

                            <div class="under_departments">
                                <img src="./src/course.png" class="depart_images">
                                <div class="list_contents">
                                    <h4>Courses</h4>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
                <div id="location" class="important">
                    <h3>Contact & Location</h3>
                    <div id="venue" class="contact">
                        <img src="./src/location.png">Address:<br>University of
                        Ruhuna,<br>Wellamadama,<br>Matara(81000)<br>Sri
                        Lanka.
                    </div>
                    <div id="gmail" class="contact"><br>
                        <img src="./src/mail.png"><a href="mailto:regoffice@admin.ruh.ac.lk">
                            <p>regoffice@admin.ruh.ac.lk<p>
                        </a>
                    </div>

                    <div id="telephone" class="contact">
                        <img src="./src/phone.png">Telephone No: <br>(+94) 41-2033250
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div id="footer"></div>
    </div>

    <script>
        fetch('./../menu.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('menu').innerHTML = data;
                activePage = document.getElementById("pagename_home");
                activePage.style.color = "#003366";
                activePage.style.fontWeight = "bold";
            });
        fetch('./../footer.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('footer').innerHTML = data;
            });

        function showpagename() {
            document.getElementById("pageslist").style.display = "flex";
        }


        const newsGrid = document.getElementById("news-grid");

        var latestnews = [];
        const serverUrl = "http://localhost:3000";
        var dots = "";

        fetch(`${serverUrl}/latestnews`, {
            method: "GET",
        })
            .then((response) => response.json())
            .then((data) => {
                latestnews = data;
                console.log(latestnews);

                for (let i = 0; i < 3; i++) {
                    if (latestnews[i].title.length > 50) {
                        dots = "...";
                    } else {
                        dots = "";
                    }
                    var news = `<div class="news"><h3 style="color: #002147;">${latestnews[i].title.slice(0, 50)}${dots}</h3><div class="news-img" style="background-image: url(${serverUrl}/${latestnews[i].image_path});"  ></div> <p class="description">${latestnews[i].content.slice(0, 100)}...</p><button> <a href="https://www.ruh.ac.lk/index.php/en/news/895-the-32nd-convocation-2025" target="_blank">Read More</a> </button></div>`
                    newsGrid.innerHTML += news;
                }
            });   
    </script>
</body>

</html>